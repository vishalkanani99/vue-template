import{L as W,s as b,k as z,O as V,as as H,o as m,c as w,p as T,v as X,u as l,b as N,at as P,au as j,a as E,P as F,Q as M,n as R,h as G,j as O,t as Q,e as L,f as A,w as J}from"./index-J-z-JmSy.js";import{u as K}from"./useLodash-fAhxlbt0.js";function Y(){return{addEvent:(r,_,S,d={})=>{r.addEventListener(_,S,d)},romoveEvent:(r,_,S,d={})=>{r.removeEventListener(_,S,d)}}}function U(){const{addEvent:o,romoveEvent:a}=Y(),{useThrottle:r,useDebounce:_}=K();let S,d;const i=W(null),n=b(0),s=b(0),p=r(e=>{var u,y;let t=(e==null?void 0:e.pageX)||((u=e==null?void 0:e.touches)==null?void 0:u.length)&&((y=e.touches[0])==null?void 0:y.pageX);n.value=t,f(e.type)}),c=r(e=>{var u,y;let t=(e==null?void 0:e.pageX)||((u=e==null?void 0:e.touches)==null?void 0:u.length)&&((y=e.touches[0])==null?void 0:y.pageX);e.type==="mousemove"&&e.preventDefault(),s.value=t-n.value,g("auto","grabbing"),S(s.value)}),v=_(e=>{g(),d(s.value),k(e.type)}),g=(e="smooth",t="pointer")=>{i.value.style["scroll-behavior"]=e,i.value.style.cursor=t},x=e=>{o(e,"mousemove",c),o(e,"mouseup",v),o(e,"mouseleave",v)},h=e=>{a(e,"mousedown",c),a(e,"mousemove",c),a(e,"mouseup",v),a(e,"mouseleave",v)},B=e=>{o(e,"touchmove",c,{passive:!0}),o(e,"touchend",v,{passive:!0}),o(e,"touchcancel",v,{passive:!0})},C=e=>{a(e,"touchstart",c),a(e,"touchmove",c,{passive:!0}),a(e,"touchend",v,{passive:!0}),a(e,"touchcancel",v,{passive:!0})},f=e=>{e==="mousedown"&&x(i.value),e==="touchstart"&&B(i.value)},k=e=>{const t=e==="mouseleave"||e==="mouseup",u=e==="touchcancel"||e==="touchend";t&&h(i.value),u&&C(i.value)};return{initSwiper:(e,t,u)=>{i.value=e,S=t,d=u,g(),o(e,"mousedown",p),o(e,"touchstart",p,{passive:!0})},clearSwiper:e=>{h(e),C(e)}}}const Z={class:"relative flex items-center"},ee={__name:"ContentSlider",props:{content:{type:Array,default:()=>[]},contentWidth:[String,Number],scrollingValue:Number,hasAutoSlideShow:{type:Boolean,default:!0}},setup(o){const a=o;let r;const{initSwiper:_,clearSwiper:S}=U(),d=W([]),i=W(),n=b(0),s=b(0),p=b(0),c=b(0),v=z(()=>p.value+n.value>=s.value),g=z(()=>n.value<=0),x=()=>{c.value=a.scrollingValue||(d.value.length>0?d.value[0].offsetWidth:0),p.value=i.value.offsetWidth,s.value=i.value.scrollWidth,a.hasAutoSlideShow&&e()},h=()=>{r&&clearInterval(r)},B=()=>{v.value&&(n.value=s.value-p.value),g.value&&(n.value=0)},C=t=>{h(),i.value.scrollLeft=n.value-t},f=t=>{n.value=n.value-Math.round(t/c.value)*c.value,$()},k=()=>{n.value=v.value?0:n.value+c.value,$()},I=()=>{n.value=g.value?0:n.value-c.value,$()},$=()=>{h(),B(),i.value.scrollLeft=n.value,a.hasAutoSlideShow&&e()},e=()=>{r=setInterval(()=>{k()},4e3)};return V(()=>{x(),_(i.value,C,f)}),H(()=>{h(),S(i.value)}),(t,u)=>{const y=O;return m(),w("div",Z,[T(N(y,{class:"absolute left-0 z-10",icon:l(P),iconSize:24,roundedFull:"",onClick:u[0]||(u[0]=D=>I())},null,8,["icon"]),[[X,!l(g)]]),T(N(y,{class:"absolute right-0 z-10",icon:l(j),iconSize:24,roundedFull:"",onClick:u[1]||(u[1]=D=>k())},null,8,["icon"]),[[X,!l(v)]]),E("div",{ref_key:"containerRef",ref:i,class:R([[o.contentWidth?"flex flex-row flex-nowrap items-center":"grid grid-flow-col auto-cols-[100%] md:auto-cols-[calc(100%/3)] lg:auto-cols-[calc(100%/5)]"],"overflow-hidden select-none scroll-smooth cursor-pointer"])},[(m(!0),w(F,null,M(o.content,(D,q)=>(m(),w("div",{class:R([o.contentWidth?`shrink-0 ${o.contentWidth}`:"w-full"]),ref_for:!0,ref_key:"contentRefs",ref:d},[G(t.$slots,"default",{item:D,index:q})],2))),256))],2)])}}},te={class:"heading"},ve={__name:"Heading",props:{title:String},setup(o){return(a,r)=>(m(),w("div",te,[E("h2",null,Q(o.title),1)]))}},oe={class:"relative"},ne=["src"],se={class:"absolute bottom-6 w-full py-3 px-4 text-center text-white"},le={key:2,class:"absolute flex right-0 left-0 bottom-3 list-none text-white justify-center items-center"},ae=["onClick"],ie=["onClick"],ce=["src"],de={__name:"Slider",props:{slides:{type:Array,default:()=>[]},hasThumbnailSelector:Boolean,hasIndicator:{type:Boolean,default:!0},hasAutoSlideShow:{type:Boolean,default:!0},imageHeight:{type:Array,default:()=>["h-[200px]","md:h-[500px]"]}},setup(o){const a=o;let r;const{initSwiper:_,clearSwiper:S}=U(),d=W(),i=W([]),n=W(a.slides),s=b(0),p=b(0),c=z(()=>s.value+1===n.value.length),v=()=>{const f=s.value-1;h(f)},g=()=>{if(c.value){h(0);return}const f=s.value+1;h(f)},x=()=>{r&&clearInterval(r)},h=f=>{x(),p.value=s.value,s.value=f,a.hasAutoSlideShow&&C()},B=f=>{f<-50&&!c.value&&g(),f>50&&s.value>0&&v()},C=()=>{r=setInterval(()=>{g()},4e3)};return V(()=>{h(0),_(d.value,()=>{},B)}),H(()=>{x(),S(d.value)}),(f,k)=>{const I=O,$=ee;return m(),w("div",oe,[E("div",{ref_key:"containerRef",ref:d,class:"relative flex items-center w-full h-auto overflow-hidden select-none"},[(m(!0),w(F,null,M(l(n),(e,t)=>(m(),w("div",{ref_for:!0,ref_key:"contentRefs",ref:i,key:t,class:R([l(s)===t?"block":"hidden",{"animate-fade-in-left-fast":l(p)>t&&l(s)!==l(p)},{"animate-fade-in-right-fast":l(p)<t&&l(s)!==l(p)},"w-full"])},[E("img",{class:R(["w-full align-middle",o.imageHeight]),src:e.image},null,10,ne),E("span",se,Q(e.caption),1)],2))),128)),l(s)>0?(m(),L(I,{key:0,class:"absolute left-0",icon:l(P),iconSize:24,roundedFull:"",onClick:k[0]||(k[0]=e=>v())},null,8,["icon"])):A("",!0),l(c)?A("",!0):(m(),L(I,{key:1,class:"absolute right-0",icon:l(j),iconSize:24,roundedFull:"",onClick:k[1]||(k[1]=e=>g())},null,8,["icon"])),o.hasIndicator?(m(),w("ul",le,[(m(!0),w(F,null,M(l(n),(e,t)=>(m(),w("li",{class:R(["relative w-8 h-1 mx-2 grow-0 shrink-1 basis-auto cursor-pointer",l(s)===t?"bg-light":"bg-dark"]),onClick:u=>h(t)},null,10,ae))),256))])):A("",!0)],512),o.hasThumbnailSelector?(m(),L($,{key:0,class:"py-1",content:l(n),contentWidth:"w-1/3 md:w-1/5",hasAutoSlideShow:!1},{default:J(({item:e,index:t})=>[E("div",{class:R(["cursor-pointer",{"opacity-50 hover:opacity-100":l(s)!==t}]),onClick:u=>h(t)},[E("img",{class:"w-full align-middle",src:e.image},null,8,ce)],10,ie)]),_:1},8,["content"])):A("",!0)])}}};export{ee as _,de as a,ve as b};
