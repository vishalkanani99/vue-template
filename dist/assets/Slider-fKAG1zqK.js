import{L as R,s as b,k as L,O as H,ar as P,o as h,c as k,p as N,v as V,u as l,b as M,as as T,at as j,a as C,P as z,Q as F,n as D,h as G,j as O,t as Q,e as A,f as B,w as J}from"./index-xYmB9ZvX.js";import{u as K}from"./useLodash-fAhxlbt0.js";function Y(){return{addEvent:(u,E,_)=>{u.addEventListener(E,_)},romoveEvent:(u,E,_)=>{u.removeEventListener(E,_)}}}function U(){const{addEvent:t,romoveEvent:s}=Y(),{useThrottle:u,useDebounce:E}=K();let _,y;const d=R(null),o=b(!1),n=b(!1),m=b(0),r=b(0),S=u(e=>{var f,a;n.value=!1,o.value=!0;let v=(e==null?void 0:e.pageX)||((f=e==null?void 0:e.touches)==null?void 0:f.length)&&((a=e.touches[0])==null?void 0:a.pageX);m.value=v}),g=u(e=>{var f,a;e.preventDefault();let v=(e==null?void 0:e.pageX)||((f=e==null?void 0:e.touches)==null?void 0:f.length)&&((a=e.touches[0])==null?void 0:a.pageX);if(!o.value||!v){r.value=0,w();return}n.value=!0,r.value=v-m.value,x("auto","grabbing"),_(r.value)}),w=E(()=>{o.value=!1,n.value&&(n.value=!1,x(),y(r.value))}),c=e=>{d.value.contains(e.target)||(r.value=0,w())},x=(e="smooth",v="pointer")=>{d.value.style["scroll-behavior"]=e,d.value.style.cursor=v};return{addSwiperEvents:(e,v,f)=>{e&&(d.value=e,_=v,y=f,x(),t(e,"mousedown",S),t(e,"touchstart",S),t(e,"mousemove",g),t(e,"touchmove",g),t(e,"mouseup",w),t(e,"touchend",w),t(document,"mousemove",c),t(document,"touchmove",c))},romoveSwiperEvents:e=>{e&&(s(e,"mousedown",S),s(e,"touchstart",S),s(e,"mousemove",g),s(e,"touchmove",g),s(e,"mouseup",w),s(e,"touchend",w),s(document,"mousemove",c),s(document,"touchmove",c))}}}const Z={class:"relative flex items-center"},ee={__name:"ContentSlider",props:{content:{type:Array,default:()=>[]},contentWidth:[String,Number],scrollingValue:Number,hasAutoSlideShow:{type:Boolean,default:!0}},setup(t){const s=t;let u;const{addSwiperEvents:E,romoveSwiperEvents:_}=U(),y=R([]),d=R(),o=b(0),n=b(0),m=b(0),r=b(0),S=L(()=>m.value+o.value>=n.value),g=L(()=>o.value<=0),w=()=>{r.value=s.scrollingValue||(y.value.length>0?y.value[0].offsetWidth:0),m.value=d.value.offsetWidth,n.value=d.value.scrollWidth,s.hasAutoSlideShow&&a()},c=()=>{u&&clearInterval(u)},x=()=>{S.value&&(o.value=n.value-m.value),g.value&&(o.value=0)},W=i=>{c(),d.value.scrollLeft=o.value-i},p=i=>{o.value=o.value-Math.round(i/r.value)*r.value,f()},e=()=>{o.value=S.value?0:o.value+r.value,f()},v=()=>{o.value=g.value?0:o.value-r.value,f()},f=()=>{c(),x(),d.value.scrollLeft=o.value,s.hasAutoSlideShow&&a()},a=()=>{u=setInterval(()=>{e()},4e3)};return H(()=>{w(),E(d.value,W,p)}),P(()=>{c(),_(d.value)}),(i,$)=>{const X=O;return h(),k("div",Z,[N(M(X,{class:"absolute left-0 z-10",icon:l(T),iconSize:24,roundedFull:"",onClick:$[0]||($[0]=I=>v())},null,8,["icon"]),[[V,!l(g)]]),N(M(X,{class:"absolute right-0 z-10",icon:l(j),iconSize:24,roundedFull:"",onClick:$[1]||($[1]=I=>e())},null,8,["icon"]),[[V,!l(S)]]),C("div",{ref_key:"containerRef",ref:d,class:D([[t.contentWidth?"flex flex-row flex-nowrap items-center":"grid grid-flow-col auto-cols-[100%] md:auto-cols-[calc(100%/3)] lg:auto-cols-[calc(100%/5)]"],"overflow-hidden select-none scroll-smooth cursor-pointer"])},[(h(!0),k(z,null,F(t.content,(I,q)=>(h(),k("div",{class:D([t.contentWidth?`shrink-0 ${t.contentWidth}`:"w-full"]),ref_for:!0,ref_key:"contentRefs",ref:y},[G(i.$slots,"default",{item:I,index:q})],2))),256))],2)])}}},te={class:"heading"},de={__name:"Heading",props:{title:String},setup(t){return(s,u)=>(h(),k("div",te,[C("h2",null,Q(t.title),1)]))}},oe={class:"relative"},ne=["src"],le={class:"absolute bottom-6 w-full py-3 px-4 text-center text-white"},se={key:2,class:"absolute flex right-0 left-0 bottom-3 list-none text-white justify-center items-center"},ae=["onClick"],ie=["onClick"],ue=["src"],ve={__name:"Slider",props:{slides:{type:Array,default:()=>[]},hasThumbnailSelector:Boolean,hasIndicator:{type:Boolean,default:!0},hasAutoSlideShow:{type:Boolean,default:!0},imageHeight:{type:Array,default:()=>["h-[200px]","md:h-[500px]"]}},setup(t){const s=t;let u;const{addSwiperEvents:E,romoveSwiperEvents:_}=U(),y=R(),d=R([]),o=R(s.slides),n=b(0),m=b(0),r=L(()=>n.value+1===o.value.length),S=()=>{const p=n.value-1;c(p)},g=()=>{if(r.value){c(0);return}const p=n.value+1;c(p)},w=()=>{u&&clearInterval(u)},c=p=>{w(),m.value=n.value,n.value=p,s.hasAutoSlideShow&&W()},x=p=>{p<-50&&!r.value&&g(),p>50&&n.value>0&&S()},W=()=>{u=setInterval(()=>{g()},4e3)};return H(()=>{c(0),E(y.value,()=>{},x)}),P(()=>{w(),_(y.value)}),(p,e)=>{const v=O,f=ee;return h(),k("div",oe,[C("div",{ref_key:"containerRef",ref:y,class:"relative flex items-center w-full h-auto overflow-hidden select-none"},[(h(!0),k(z,null,F(l(o),(a,i)=>(h(),k("div",{ref_for:!0,ref_key:"contentRefs",ref:d,key:i,class:D([l(n)===i?"block":"hidden",{"animate-fade-in-left-fast":l(m)>i&&l(n)!==l(m)},{"animate-fade-in-right-fast":l(m)<i&&l(n)!==l(m)},"w-full"])},[C("img",{class:D(["w-full align-middle",t.imageHeight]),src:a.image},null,10,ne),C("span",le,Q(a.caption),1)],2))),128)),l(n)>0?(h(),A(v,{key:0,class:"absolute left-0",icon:l(T),iconSize:24,roundedFull:"",onClick:e[0]||(e[0]=a=>S())},null,8,["icon"])):B("",!0),l(r)?B("",!0):(h(),A(v,{key:1,class:"absolute right-0",icon:l(j),iconSize:24,roundedFull:"",onClick:e[1]||(e[1]=a=>g())},null,8,["icon"])),t.hasIndicator?(h(),k("ul",se,[(h(!0),k(z,null,F(l(o),(a,i)=>(h(),k("li",{class:D(["relative w-8 h-1 mx-2 grow-0 shrink-1 basis-auto cursor-pointer",l(n)===i?"bg-light":"bg-dark"]),onClick:$=>c(i)},null,10,ae))),256))])):B("",!0)],512),t.hasThumbnailSelector?(h(),A(f,{key:0,class:"py-1",content:l(o),contentWidth:"w-1/3 md:w-1/5",hasAutoSlideShow:!1},{default:J(({item:a,index:i})=>[C("div",{class:D(["cursor-pointer",{"opacity-50 hover:opacity-100":l(n)!==i}]),onClick:$=>c(i)},[C("img",{class:"w-full align-middle",src:a.image},null,8,ue)],10,ie)]),_:1},8,["content"])):B("",!0)])}}};export{ee as _,ve as a,de as b};
